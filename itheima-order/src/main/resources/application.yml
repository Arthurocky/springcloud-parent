server:
  port: 18082
spring:
  application:
    name: itheima-order
  datasource:
    driverClassName: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/cloud-order?characterEncoding=UTF8&&serverTimezone=Asia/Shanghai
    username: root
    password: root
  #快速入门-服务注册到Nacos  第三步 Nacos连接配置
  cloud:
    nacos:
      server-addr: localhost:8848
      #Nacos服务分级存储模型 集群名称配置
      discovery:
        cluster-name: SZ

#Ribbon负载均衡 改为随机策略
itheima-user:
  ribbon:
    NFLoadBalancerRuleClassName: com.alibaba.cloud.nacos.ribbon.NacosRule
#配置饥饿加载
ribbon:
  eager-load:
    #默认false是懒加载 true:开启饥饿加载（项目启动连接eureka加载服务列表）
    enabled: true
    #itheima-user:饥饿加载服务名称
    clients: itheima-user
#自定义Feign的配置 第一步：springboot日志配置
logging:
  pattern:
    console: '%d{HH:mm:ss} %-5level %msg [%thread] - %logger{15}%n\'
  level:
    root: info
    com:
      itheima: debug
#自定义Feign的配置 第二步：配置Feign日志配置
feign:
  client:
    config:
      #局部配置 只针对用户微服务打印日志
      itheima-user:
        #包含四种不同的级别：NONE、BASIC、HEADERS、FULL
        #补充 开发阶段：FULL 生产阶段：BASIC
        loggerLevel: FULL
#Feign的性能优化-连接池配置 第二步：配置httpclient连接池
  httpclient:
    #开启Feign对httpclient的支持
    enabled: true
    #最大连接数
    max-connections: 200
    #每个路径的最大连接数
    max-connections-per-route: 50
